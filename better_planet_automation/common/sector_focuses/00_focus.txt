
# Critially important things goes here, such as amenities, housing and countering crime
# Should be blocked unless they are not needed
basic = {
	hidden = yes

	clear_blockers = yes
	district = {
		key = district_city
		weight = {
			weight = 1
			modifier = {
				factor = 0
				owner = { is_ai = no }
			}
			modifier = {
				factor = 2
				owner = { is_ai = yes }
				owner = {
					has_monthly_income = {
						resource = consumer_goods
						value < 0
					}
				}
			}
			modifier = {
				factor = 5
				owner = { is_ai = yes }
				free_housing < 0
			}

			# Let's not go full spam on this.
			modifier = {
				factor = 0
				owner = { is_ai = yes }
				free_housing >= 0
			}
		}
	}

	district = {
		key = district_hive
		weight = {
			weight = 1
			modifier = {
				factor = 0
				owner = { is_ai = no }
			}
			modifier = {
				factor = 5
				owner = { is_ai = yes }
				free_housing < 0
			}

			# Let's not go full spam on this.
			modifier = {
				factor = 0
				owner = { is_ai = yes }
				free_housing >= 0
			}
		}
	}

	district = {
		key = district_nexus
		weight = {
			weight = 1
			modifier = {
				factor = 0
				owner = { is_ai = no }
			}
			modifier = {
				factor = 5
				owner = { is_ai = yes }
				free_housing < 0
			}

			# Let's not go full spam on this.
			modifier = {
				factor = 0
				owner = { is_ai = yes }
				free_housing >= 0
			}

			modifier = {
				factor = 0
				owner = { is_ai = yes }
				controller = {
					has_monthly_income = {
						resource = energy
						value < 2
					}
				}
			}
		}
	}

	building = {
		key = building_luxury_residence
		weight = {
			weight = 1
			modifier = {
				factor = 0
				owner = { is_ai = no }
			}

			modifier = {
				factor = 2
				owner = { is_ai = yes }
				free_housing < 0
			}

			modifier = {
				factor = 3
				owner = { is_ai = yes }
				free_amenities < 0
			}

			modifier = {
				factor = 0
				owner = { is_ai = yes }
				free_amenities >= 0
			}

			modifier = {
				factor = 0
				owner = { is_ai = yes }
				controller = {
					has_monthly_income = {
						resource = energy
						value < 2
					}
				}
			}
		}
	}

	building = {
		key = building_holo_theatres
		weight = {
			weight = 1
			modifier = {
				factor = 0
				owner = { is_ai = no }
			}

			modifier = {
				factor = 4
				free_amenities < 0
				owner = { is_ai = yes }
			}

			modifier = {
				factor = 10
				free_amenities < -10
				owner = { is_ai = yes }
			}

			modifier = {
				factor = 0
				free_amenities >= 0
				owner = { is_ai = yes }
			}

			# No one to work it anyway
			modifier = {
				factor = 0
				owner = { is_ai = yes }
				NOT = {
					any_owned_pop = { 
						OR = { 
							is_unemployed = yes 
							has_job = servant 
						}
					}
				}
			}

			modifier = {
				factor = 0
				owner = { is_ai = yes }
				controller = {
					has_monthly_income = {
						resource = energy
						value < 2
					}
				}
			}
		}
	}

	building = {
		key = building_hyper_entertainment_forum
		weight = {
			weight = 1
			modifier = {
				factor = 0
				owner = { is_ai = no }
			}

			modifier = {
				factor = 4
				owner = { is_ai = yes }
				free_amenities < 0
			}

			modifier = {
				factor = 10
				owner = { is_ai = yes }
				free_amenities < -10
			}

			modifier = {
				factor = 0
				owner = { is_ai = yes }
				free_amenities >= 0
			}

			# No one to work it anyway
			modifier = {
				factor = 0
				owner = { is_ai = yes }
				NOT = {
					any_owned_pop = { 
						OR = { 
							is_unemployed = yes 
							has_job = servant 
						}
					}
				}
			}

			modifier = {
				factor = 0
				owner = { is_ai = yes }
				controller = {
					OR = {
						has_monthly_income = {
							resource = exotic_gases
							value < 1
						}
						has_monthly_income = {
							resource = energy
							value < 2
						}
					}
				}
			}
		}
	}

	building = {
		key = building_clinic
		weight = {
			weight = 1
			modifier = {
				factor = 0
				owner = { is_ai = no }
			}

			modifier = {
				factor = 4
				owner = { is_ai = yes }
				free_amenities < 0
			}

			modifier = {
				factor = 0
				owner = { is_ai = yes }
				free_amenities >= 0
			}

			# No one to work it anyway
			modifier = {
				factor = 0
				owner = { is_ai = yes }
				NOT = {
					any_owned_pop = { 
						OR = { 
							is_unemployed = yes 
							has_job = servant 
						}
					}
				}
			}

			modifier = {
				factor = 0
				owner = { is_ai = yes }
				controller = {
					has_monthly_income = {
						resource = energy
						value < 2
					}
				}
			}
		}
	}

	building = {
		key = building_hospital
		weight = {
			weight = 1
			modifier = {
				factor = 0
				owner = { is_ai = no }
			}

			modifier = {
				factor = 4
				owner = { is_ai = yes }
				free_amenities < 0
			}

			modifier = {
				factor = 0
				owner = { is_ai = yes }
				free_amenities >= 0
			}

			# No one to work it anyway
			modifier = {
				factor = 0
				owner = { is_ai = yes }
				NOT = {
					any_owned_pop = { 
						OR = { 
							is_unemployed = yes 
							has_job = servant 
						}
					}
				}
			}

			modifier = {
				factor = 0
				owner = { is_ai = yes }
				controller = {
					OR = {
						has_monthly_income = {
							resource = exotic_gases
							value < 1
						}
						has_monthly_income = {
							resource = energy
							value < 2
						}
					}
				}
			}
		}
	}

	building = {
		key = building_spawning_pool
		weight = {
			weight = 1
			modifier = {
				factor = 0
				owner = { is_ai = no }
			}

			modifier = {
				factor = 4
				owner = { is_ai = yes }
				free_amenities < 0
			}

			modifier = {
				factor = 0
				owner = { is_ai = yes }
				free_amenities >= 0
			}

			# No one to work it anyway
			modifier = {
				factor = 0
				owner = { is_ai = yes }
				NOT = {
					any_owned_pop = { 
						OR = { 
							is_unemployed = yes 
							has_job = servant 
						}
					}
				}
			}
		}
	}

	building = {
		key = building_robot_assembly_plant
		weight = {
			weight = 1
			modifier = {
				factor = 0
				owner = { is_ai = no }
			}

			modifier = {
				factor = 0
				owner = { is_ai = yes }
				free_housing <= 0
			}
		}
	}

	building = {
		key = building_machine_assembly_plant
		weight = {
			weight = 1
			modifier = {
				factor = 0
				owner = { is_ai = no }
			}

			modifier = {
				factor = 0
				owner = { is_ai = yes }
				free_housing <= 0
			}
		}
	}

	building = {
		key = building_precinct_house
		weight = {
			weight = 1
			modifier = {
				factor = 0
				owner = { is_ai = no }
			}
			modifier = {
				factor = 0
				owner = { is_ai = yes }
				planet_crime < 10
			}

			modifier = {
				factor = 3
				owner = { is_ai = yes }
				planet_crime > 10
				planet_crime < 25
			}

			modifier = {
				factor = 8
				owner = { is_ai = yes }
				planet_crime > 25
				planet_crime < 50
			}

			modifier = {
				factor = 15
				owner = { is_ai = yes }
				planet_crime > 50
			}

			# No one to work it anyway
			modifier = {
				factor = 0
				owner = { is_ai = yes }
				NOT = {
					any_owned_pop = { 
						OR = { 
							is_unemployed = yes 
							has_job = servant 
						}
					}
				}
			}
		}
	}

	building = { # in case it's been demolished for some reason
		key = building_colony_shelter
		weight = {
			weight = 5
		}
	}

	building = {
		key = building_capital
		weight = {
			weight = 2
		}
	}

	building = {
		key = building_major_capital
		weight = {
			weight = 2
		}
	}

	building = {
		key = building_system_capital
		weight = {
			weight = 2
		}
	}

	building = { # in case it's been demolished for some reason
		key = building_deployment_post
		weight = {
			weight = 5
		}
	}

	building = {
		key = building_machine_capital
		weight = {
			weight = 2
		}
	}

	building = {
		key = building_machine_major_capital
		weight = {
			weight = 2
		}
	}

	building = {
		key = building_machine_system_capital
		weight = {
			weight = 2
		}
	}

	building = {
		key = building_hive_capital
		weight = {
			weight = 2
		}
	}

	building = {
		key = building_hive_major_capital
		weight = {
			weight = 2
		}
	}

	building = { # in case it's been demolished for some reason
		key = building_hab_capital
		weight = {
			weight = 5
		}
	}

	building = {
		key = building_hab_major_capital
		weight = {
			weight = 2
		}
	}

	building = { # in case it's been demolished for some reason
		key = building_resort_capital
		weight = {
			weight = 5
		}
	}

	building = {
		key = building_resort_major_capital
		weight = {
			weight = 2
		}
	}

	building = { # in case it's been demolished for some reason
		key = building_slave_capital
		weight = {
			weight = 5
		}
	}

	building = {
		key = building_slave_major_capital
		weight = {
			weight = 2
		}
	}
}

#############
# BALANCED FOCUS
#############

balanced = {

	ai_weight = {
		weight = 100
	}

	district = {
		key = district_generator
		weight = {
			weight = 1
			modifier = 
			{
				factor = 3
				owner = { 
					has_monthly_income = {
						resource = energy
						value < 8
					}
				}
			}

			modifier = {
				factor = 2
				free_housing < 0
			}

			modifier = {
				factor = 3
				any_owned_pop = { 
					OR = { 
						is_unemployed = yes 
						has_job = servant 
					}
				}
			}

			# No one to work it anyway
			modifier = {
				factor = 0
				NOT = {
					any_owned_pop = { 
						OR = { 
							is_unemployed = yes 
							has_job = servant 
						}
					}
				}
			}
		}
	}

	district = {
		key = district_mining
		weight = {
			weight = 1
			modifier = {
				factor = 3
				owner = { 
					has_monthly_income = {
						resource = minerals
						value < 0
					}
				}
			}

			modifier = {
				factor = 2
				free_housing < 0
			}

			modifier = {
				factor = 3
				any_owned_pop = { 
					OR = { 
						is_unemployed = yes 
						has_job = servant 
					}
				}
			}

			# No one to work it anyway
			modifier = {
				factor = 0
				NOT = {
					any_owned_pop = { 
						OR = { 
							is_unemployed = yes 
							has_job = servant 
						}
					}
				}
			}
		}
	}

	district = {
		key = district_farming
		weight = {
			weight = 1
			modifier = {
				factor = 3
				owner = { 
					has_monthly_income = {
						resource = food
						value < 5
					}
				}
			}

			modifier = {
				factor = 2
				free_housing < 0
			}

			modifier = {
				factor = 3
				any_owned_pop = { 
					OR = { 
						is_unemployed = yes 
						has_job = servant 
					}
				}
			}

			modifier = { # MI and Synth. Asc. don't build food unless they need it
				factor = 0
				owner = { 
					OR = {
						has_authority = auth_machine_intelligence
						has_country_flag = synthetic_empire
					}
					has_monthly_income = {
						resource = food
						value >= 0
					}
				}
			}

			# No one to work it anyway
			modifier = {
				factor = 0
				NOT = {
					any_owned_pop = { 
						OR = { 
							is_unemployed = yes 
							has_job = servant 
						}
					}
				}
			}
		}
	}

	building = {
		key = building_hydroponics_farm
		weight = {
			weight = 1
			modifier = {
				factor = 5
				owner = { 
					has_monthly_income = {
						resource = food
						value < 5
					}
				}
			}

			modifier = { # MI and Synth. Asc. don't build food unless they need it
				factor = 0
				owner = { 
					OR = {
						has_authority = auth_machine_intelligence
						has_country_flag = synthetic_empire
					}
					has_monthly_income = {
						resource = food
						value >= 0
					}
				}
			}

			# No one to work it anyway
			modifier = {
				factor = 0
				NOT = {
					any_owned_pop = { 
						OR = { 
							is_unemployed = yes 
							has_job = servant 
						}
					}
				}
			}
		}
	}

	building = {
		key = building_mineral_purification_plant
		weight = {
			weight = 1

			modifier = 
			{
				factor = 5
				owner = { 
					has_monthly_income = {
						resource = minerals
						value < 5
					}
				}
			}

			# No one to work it anyway
			modifier = {
				factor = 0
				NOT = {
					any_owned_pop = { 
						OR = { 
							is_unemployed = yes 
							has_job = servant 
						}
					}
				}
			}
		}
	}

	building = {
		key = building_energy_grid
		weight = {
			weight = 1
			modifier = 
			{
				factor = 5
				owner = { 
					has_monthly_income = {
						resource = energy
						value < 10
					}
				}
			}

			# No one to work it anyway
			modifier = {
				factor = 0
				NOT = {
					any_owned_pop = { 
						OR = { 
							is_unemployed = yes 
							has_job = servant 
						}
					}
				}
			}
		}
	}

	building = {
		key = building_bio_reactor
		weight = {
			weight = 1
			modifier = 
			{
				factor = 5
				owner = { 
					has_monthly_income = {
						resource = energy
						value < 10
					}

					has_monthly_income = {
						resource = food
						value > 50
					}
				}
			}

			modifier = 
			{
				factor = 0
				owner = {
					has_monthly_income = {
						resource = food
						value < 50
					}
				}
			}

			# No one to work it anyway
			modifier = {
				factor = 0
				NOT = {
					any_owned_pop = { 
						OR = { 
							is_unemployed = yes 
							has_job = servant 
						}
					}
				}
			}

			modifier = {
				factor = 0
				controller = {
					has_monthly_income = {
						resource = food
						value < 25
					}
				}
			}
		}
	}

	building = {
		key = building_mote_harvesters
		weight = {
			weight = 10
			# No one to work it anyway
			modifier = {
				factor = 0
				NOT = {
					any_owned_pop = { 
						OR = { 
							is_unemployed = yes 
							has_job = servant 
						}
					}
				}
			}
		}		
	}

	building = {
		key = building_gas_extractors
		weight = {
			weight = 10

			# No one to work it anyway
			modifier = {
				factor = 0
				NOT = {
					any_owned_pop = { 
						OR = { 
							is_unemployed = yes 
							has_job = servant 
						}
					}
				}
			}
		}
	}

	building = {
		key = building_crystal_mines
		weight = {
			weight = 10
			# No one to work it anyway
			modifier = {
				factor = 0
				NOT = {
					any_owned_pop = { 
						OR = { 
							is_unemployed = yes 
							has_job = servant 
						}
					}
				}
			}
		}

		
	}

	building = {
		key = building_betharian_power_plant
		weight = {
			weight = 10
			# No one to work it anyway
			modifier = {
				factor = 0
				NOT = {
					any_owned_pop = { 
						OR = { 
							is_unemployed = yes 
							has_job = servant 
						}
					}
				}
			}
		}
	}

	building = {
		key = building_foundry_1
		weight = {
			weight = 1

			modifier = 
			{
				factor = 5
				owner = { 
					has_monthly_income = {
						resource = alloys
						value < 5
					}
				}
			}

			# No one to work it anyway
			modifier = {
				factor = 0
				NOT = {
					any_owned_pop = { 
						OR = { 
							is_unemployed = yes 
							has_job = servant 
						}
					}
				}
			}
		}
	}

	building = {
		key = building_factory_1
		weight = {
			weight = 1

			modifier = 
			{
				factor = 5
				owner = { 
					has_monthly_income = {
						resource = consumer_goods
						value < 5
					}
					has_monthly_income = {
						resource = minerals
						value > 6
					}
				}
			}

			# No one to work it anyway
			modifier = {
				factor = 0
				NOT = {
					any_owned_pop = { 
						OR = { 
							is_unemployed = yes 
							has_job = servant 
						}
					}
				}
			}
		}
	}

	building = {
		key = building_refinery
		weight = {
			weight = 1

			# No one to work it anyway
			modifier = {
				factor = 0
				NOT = {
					any_owned_pop = { 
						OR = { 
							is_unemployed = yes 
							has_job = servant 
						}
					}
				}
			}
		}
	}

	building = {
		key = building_chemical_plant
		weight = {
			weight = 1

			# No one to work it anyway
			modifier = {
				factor = 0
				NOT = {
					any_owned_pop = { 
						OR = { 
							is_unemployed = yes 
							has_job = servant 
						}
					}
				}
			}
		}
	}

	building = {
		key = building_crystal_plant
		weight = {
			weight = 1

			# No one to work it anyway
			modifier = {
				factor = 0
				NOT = {
					any_owned_pop = { 
						OR = { 
							is_unemployed = yes 
							has_job = servant 
						}
					}
				}
			}
		}
	}

	building = {
		key = building_nanite_transmuter
		weight = {
			weight = 1

			# No one to work it anyway
			modifier = {
				factor = 0
				NOT = {
					any_owned_pop = { 
						OR = { 
							is_unemployed = yes 
							has_job = servant 
						}
					}
				}
			}
			modifier = {
				factor = 0
				controller = {
					OR = {
						has_monthly_income = {
							resource = nanites
							value < 1
						}
						has_monthly_income = {
							resource = energy
							value < 5
						}
					}
				}
			}
		}
	}

	building = {
		key = building_ministry_production
		weight = {
			weight = 2

			# No one to work it anyway
			modifier = {
				factor = 0
				NOT = {
					any_owned_pop = { 
						OR = { 
							is_unemployed = yes 
							has_job = servant 
						}
					}
				}
			}
		}
	}

	building = {
		key = building_production_center
		weight = {
			weight = 2

			# No one to work it anyway
			modifier = {
				factor = 0
				NOT = {
					any_owned_pop = { 
						OR = { 
							is_unemployed = yes 
							has_job = servant 
						}
					}
				}
			}
		}
	}

	building = {
		key = building_autochthon_monument
		weight = {
			weight = 1

			# No one to work it anyway
			modifier = {
				factor = 0
				NOT = {
					any_owned_pop = { 
						OR = { 
							is_unemployed = yes 
							has_job = servant 
						}
					}
				}
			}
		}
	}

	building = {
		key = building_heritage_site
		weight = {
			weight = 1

			# No one to work it anyway
			modifier = {
				factor = 0
				NOT = {
					any_owned_pop = { 
						OR = { 
							is_unemployed = yes 
							has_job = servant 
						}
					}
				}
			}
		}
	}

	building = {
		key = building_hypercomms_forum
		weight = {
			weight = 1

			# No one to work it anyway
			modifier = {
				factor = 0
				NOT = {
					any_owned_pop = { 
						OR = { 
							is_unemployed = yes 
							has_job = servant 
						}
					}
				}
			}

			modifier = {
				factor = 0
				controller = {
					OR = {
						has_monthly_income = {
							resource = rare_crystals
							value < 1
						}
						has_monthly_income = {
							resource = energy
							value < 3
						}
					}
				}
			}
		}
	}

	building = {
		key = building_autocurating_vault
		weight = {
			weight = 1

			# No one to work it anyway
			modifier = {
				factor = 0
				NOT = {
					any_owned_pop = { 
						OR = { 
							is_unemployed = yes 
							has_job = servant 
						}
					}
				}
			}

			modifier = {
				factor = 0
				controller = {
					OR = {
						has_monthly_income = {
							resource = rare_crystals
							value < 2
						}
						has_monthly_income = {
							resource = energy
							value < 4
						}
					}
				}
			}
		}
	}

	building = {
		key = building_temple
		weight = {
			weight = 1

			# No one to work it anyway
			modifier = {
				factor = 0
				NOT = {
					any_owned_pop = { 
						OR = { 
							is_unemployed = yes 
							has_job = servant 
						}
					}
				}
			}
		}
	}

	building = {
		key = building_holotemple
		weight = {
			weight = 1

			# No one to work it anyway
			modifier = {
				factor = 0
				NOT = {
					any_owned_pop = { 
						OR = { 
							is_unemployed = yes 
							has_job = servant 
						}
					}
				}
			}
		}
	}

	building = {
		key = building_sacred_nexus
		weight = {
			weight = 1

			# No one to work it anyway
			modifier = {
				factor = 0
				NOT = {
					any_owned_pop = { 
						OR = { 
							is_unemployed = yes 
							has_job = servant 
						}
					}
				}
			}

			modifier = {
				factor = 0
				controller = {
					OR = {
						has_monthly_income = {
							resource = rare_crystals
							value < 1
						}
						has_monthly_income = {
							resource = energy
							value < 3
						}
					}
				}
			}
		}
	}

	building = {
		key = building_citadel_of_faith
		weight = {
			weight = 1

			# No one to work it anyway
			modifier = {
				factor = 0
				NOT = {
					any_owned_pop = { 
						OR = { 
							is_unemployed = yes 
							has_job = servant 
						}
					}
				}
			}

			modifier = {
				factor = 0
				controller = {
					OR = {
						has_monthly_income = {
							resource = rare_crystals
							value < 2
						}
						has_monthly_income = {
							resource = energy
							value < 4
						}
					}
				}
			}
		}
	}

	building = {
		key = building_hive_node
		weight = {
			weight = 1

			# No one to work it anyway
			modifier = {
				factor = 0
				NOT = {
					any_owned_pop = { 
						OR = { 
							is_unemployed = yes 
							has_job = servant 
						}
					}
				}
			}
		}
	}

	building = {
		key = building_hive_confluence
		weight = {
			weight = 1

			# No one to work it anyway
			modifier = {
				factor = 0
				NOT = {
					any_owned_pop = { 
						OR = { 
							is_unemployed = yes 
							has_job = servant 
						}
					}
				}
			}

			modifier = {
				factor = 0
				controller = {
					OR = {
						has_monthly_income = {
							resource = rare_crystals
							value < 1
						}
						has_monthly_income = {
							resource = energy
							value < 3
						}
					}
				}
			}
		}
	}

	building = {
		key = building_uplink_node
		weight = {
			weight = 1

			# No one to work it anyway
			modifier = {
				factor = 0
				NOT = {
					any_owned_pop = { 
						OR = { 
							is_unemployed = yes 
							has_job = servant 
						}
					}
				}
			}
		}
	}

	building = {
		key = building_organic_sanctuary
		weight = {
			weight = 1

			# No one to work it anyway
			modifier = {
				factor = 0
				NOT = {
					any_owned_pop = { 
						OR = { 
							is_unemployed = yes 
							has_job = servant 
						}
					}
				}
			}
		}
	}

	building = {
		key = building_corporate_monument
		weight = {
			weight = 1

			# No one to work it anyway
			modifier = {
				factor = 0
				NOT = {
					any_owned_pop = { 
						OR = { 
							is_unemployed = yes 
							has_job = servant 
						}
					}
				}
			}
		}
	}
}

#############
# PRODUCTION FOCUS
#############

# ai_weight = 0이라 PRODUCTION FOCUS를 쓰기로 함.
# 사용 가능 행성을 NOR로 묶은 이유는, factor를 0으로 만들어서 해당되지 않는 행성(예 : 수도)의 weight를 0으로 만들기 위함임.
# factor 아래의 조건문은 따로 AND로 안 묶어도 AND 취급 됨.

# 지구
# 특화행성은 해당 지구 먼저 짓고, 남은 지구 번갈아가며 지음.
# 특화행성 아니면 번갈아가며 지음.

# 농업/발전/채굴 : 모디파이어 건물 + 극장 + 로봇, 클론 건물 + 정제소
# 합금 : 클론 배양소 + 로봇 조립 시설 + 극장 + 나머지 단조장
# 연구 : 클론 배양소 + 극장 + 나머지 연구소
# 행정 : 클론 배양소 + 극장 + 행정한계 넘었을 때만 건물 짓기.
# 도회지 : 아콜로지용. 도시지구만.

# 주거지
# 채굴/발전 : 52명 / 자원지구 / 자원 모디파이어 건물 + 초 오락단지 + 8 요새
# 채굴/발전 개선안 : 28명 / 1 주거 + 나머지 자원지구 / 자원 모디파이어 건물 + 3 전략자원 정제소 + 초 오락단지
# => 1 주거단지랑 초오락단지 안 지으면 주거부족으로 불 들어옴. 굉장히 신경쓰임. 자원 좀 덜 먹더라도 불 안 뜨게 하는게 맞다고 생각함.
# 정제소 : 78명 / 거주지구 / 6 멀티플렉스 + 9정제소
# 개인적인 생각이지만, 주거지로 정제소를 만들 생각은 하지 않는 게 좋겠다. 멀티플렉스 인구낭비가 너무 심하다.
# 요새 : 83명, 1거주 7무역지구, 전부 요새(주둔지업글)

production = {
	
	ai_weight = {
		weight = 0
	}

	# 도시지구
	district = {
		key = district_city

		weight = {
			weight = 1

			modifier = {
				factor = 0
				NOR = {
					has_designation = col_capital
					has_designation = col_mining
					has_designation = col_generator
					has_designation = col_farming
					has_designation = col_foundry
					has_designation = col_research
					has_designation = col_bureau
					has_designation = col_city
				}
			}

			# 주거, 직업 중 하나라도 부족해야 건설.
			modifier = {
				factor = 0
				free_housing >= 3
				free_jobs >= 3
			}

			# 행성특화
            modifier = { 
                factor = 1600
                has_designation = col_city
            }

			# 크기가 작은 행성은 도시지구 슬롯을 마련해 둠.
            modifier = { #  지구 건설
                factor = 1000
                planet_size <= 14
                num_districts = { type = district_city value < 2 }
            }
		}
	}

	# 발전지구
	district = {
		key = district_generator

		weight = {
			weight = 1

			modifier = {
				factor = 0
				NOR = {
					has_designation = col_capital
					has_designation = col_mining
					has_designation = col_generator
					has_designation = col_farming
					has_designation = col_foundry
					has_designation = col_research
					has_designation = col_bureau
				}
			}

			# 주거, 직업 중 하나라도 부족해야 건설.
			modifier = {
				factor = 0
				free_housing >= 3
				free_jobs >= 3
			}

			# 행성특화.
            modifier = { 
                factor = 1600
                has_designation = col_generator
            }

            # 자원 부족 시 도시지구보다 우선함.
            modifier = { 
                factor = 1.1
                owner = { has_monthly_income = { resource = energy value < 20 } }
            }

            # 자원 부족 시 도시지구보다 우선함.
            modifier = { 
                factor = 1.1
                owner = { has_monthly_income = { resource = energy value < 50 } }
            }

            # 자원 부족 시 도시지구보다 우선함.
            modifier = { 
                factor = 1.1
                owner = { has_monthly_income = { resource = minerals value < 100 } }
            }

            # 자원 부족 시 도시지구보다 우선함.
            modifier = { 
                factor = 1.1
                owner = { has_monthly_income = { resource = minerals value < 300 } }
            }
		}
	}

	# 채굴지구
	district = {
		key = district_mining

		weight = {
			weight = 1

			modifier = {
				factor = 0
				NOR = {
					has_designation = col_capital
					has_designation = col_mining
					has_designation = col_generator
					has_designation = col_farming
					has_designation = col_foundry
					has_designation = col_research
					has_designation = col_bureau
				}
			}

			# 주거, 직업 중 하나라도 부족해야 건설.
			modifier = {
				factor = 0
				free_housing >= 3
				free_jobs >= 3
			}

			# 행성특화.
            modifier = { 
                factor = 1600
                OR = {
	                has_designation = col_mining
	            }
            }

            # 자원 부족 시 도시지구보다 우선함.
            modifier = { 
                factor = 1.1
                owner = { has_monthly_income = { resource = energy value < 50 } }
            }

            # 자원 부족 시 도시지구보다 우선함.
            modifier = { 
                factor = 1.1
                owner = { has_monthly_income = { resource = minerals value < 100 } }
            }

            # 자원 부족 시 도시지구보다 우선함.
            modifier = { 
                factor = 1.1
                owner = { has_monthly_income = { resource = minerals value < 200 } }
            }

            # 자원 부족 시 도시지구보다 우선함.
            modifier = { 
                factor = 1.1
                owner = { has_monthly_income = { resource = minerals value < 300 } }
            }
		}
	}

	# 농업지구
	district = {
		key = district_farming

		weight = {
			weight = 1

			modifier = {
				factor = 0
				NOR = {
					has_designation = col_capital
					has_designation = col_mining
					has_designation = col_generator
					has_designation = col_farming
					has_designation = col_foundry
					has_designation = col_research
					has_designation = col_bureau
				}
			}

			# 주거, 직업 중 하나라도 부족해야 건설.
			modifier = {
				factor = 0
				free_housing >= 3
				free_jobs >= 3
			}

			# 행성특화.
            modifier = { 
                factor = 1600
               	OR = {
	                has_designation = col_farming
	            }
            }

            # 자원 부족 시 도시지구보다 우선함.
            modifier = { 
                factor = 2
                owner = { has_monthly_income = { resource = energy value < 5 } }
            }
		}
	}

	# 거주지 주거지구
    district = {
        key = district_hab_housing
        weight = {
            weight = 1

			modifier = {
				factor = 0
				NOR = {
					has_designation = col_habitat_energy
					has_designation = col_habitat_mining
					has_designation = col_habitat_fortress
					has_designation = col_habitat_refinery
				}
			}

            modifier = {
                factor = 0
                free_housing >= 2
            }

            # 행성특화.
            modifier = {
                factor = 1600
                has_designation = col_habitat_refinery
            }

            # 자원, 요새행성은 주거지구 1개만 필요
            modifier = { #  지구 건설
                factor = 1600
                num_districts = { type = district_housing value < 1 }
                OR = {
					has_designation = col_habitat_energy
					has_designation = col_habitat_mining
					has_designation = col_habitat_fortress
				}
            }
        }
    }

	# 거주지 무역지구
    district = {
        key = district_hab_commercial
        weight = {
            weight = 1

			modifier = {
				factor = 0
				NOR = {
					has_designation = col_habitat_fortress
				}
			}

            modifier = {
                factor = 0
				free_housing >= 3
				free_jobs >= 3
            }

            # 행성특화.
            modifier = {
                factor = 1500
                has_designation = col_habitat_fortress
            }
        }
    }

	# 거주지 발전지구
    district = {
        key = district_hab_energy
        weight = {
            weight = 1

			modifier = {
				factor = 0
				NOR = {
					has_designation = col_habitat_energy
				}
			}

            modifier = {
                factor = 0
				free_housing >= 3
				free_jobs >= 3
            }

            # 행성특화.
            modifier = {
                factor = 1500
                has_designation = col_habitat_energy
            }
        }
    }

	# 거주지 채굴지구
    district = {
        key = district_hab_mining
        weight = {
            weight = 1

			modifier = {
				factor = 0
				NOR = {
					has_designation = col_habitat_mining
				}
			}

            modifier = {
                factor = 0
				free_housing >= 3
				free_jobs >= 3
            }

            # 행성특화.
            modifier = {
                factor = 1500
                has_designation = col_habitat_mining
            }
        }
    }

    ### 건물 ###

    # 소비재 건물 : 수도 전용 모디파이어.
	building = {
		key = building_factory_1
		weight = {
			weight = 1

			modifier = {
				factor = 0
				NOR = {
					has_designation = col_capital
				}
			}

            modifier = {
                factor = 0
                owner = { has_monthly_income = { resource = consumer_goods value > 5 } }
            }

            modifier = {
            	factor = 1500
            }
		}
	}

    # 소비재 건물 : 수도 전용 모디파이어.
	building = {
		key =  building_factory_2
		weight = {
			weight = 1

			modifier = {
				factor = 0
				NOR = {
					has_designation = col_capital
				}
			}

            modifier = {
                factor = 0
                owner = { has_monthly_income = { resource = consumer_goods value > 5 } }
            }

			# 건물 슬롯이 없을 때만 업그레이드
			modifier = {
				factor = 0
                free_building_slots > 0
			}

			modifier = {
				factor = 0
                owner = { has_monthly_income = { resource = rare_crystals value < 1 } }
                # exotic_gases volatile_motes rare_crystals
			}
      
			modifier = {
				factor = 1500
			}
		}
	}

    # 소비재 건물 : 수도 전용 모디파이어.
	building = {
		key =  building_factory_3
		weight = {
			weight = 1

			modifier = {
				factor = 0
				NOR = {
					has_designation = col_capital
				}
			}

            modifier = {
                factor = 0
                owner = { has_monthly_income = { resource = consumer_goods value > 5 } }
            }

			# 건물 슬롯이 없을 때만 업그레이드
			modifier = {
				factor = 0
                free_building_slots > 0
			}

			modifier = {
				factor = 0
                owner = { has_monthly_income = { resource = rare_crystals value < 1 } }
                # exotic_gases volatile_motes rare_crystals
			}
      
			modifier = {
				factor = 1500
			}
		}
	}

    # 합금 건물 : 수도 전용 모디파이어.
	building = {
		key = building_foundry_1
		weight = {
			weight = 1

			modifier = {
				factor = 0
				NOR = {
					has_designation = col_capital
					has_designation = col_foundry
				}
			}

            modifier = {
                factor = 0
                owner = { has_monthly_income = { resource = alloys value > 60 } }
            }
      
			modifier = {
				factor = 1000
			}
		}
	}

    # 합금 건물 : 수도 전용 모디파이어.
	building = {
		key =  building_foundry_2
		weight = {
			weight = 1

			modifier = {
				factor = 0
				NOR = {
					has_designation = col_capital
					has_designation = col_foundry
				}
			}

            modifier = {
                factor = 0
                owner = { has_monthly_income = { resource = alloys value > 60 } }
            }

			# 건물 슬롯이 없을 때만 업그레이드
			modifier = {
				factor = 0
                free_building_slots > 0
			}

			modifier = {
				factor = 0
                owner = { has_monthly_income = { resource = volatile_motes value < 1 } }
                # exotic_gases volatile_motes rare_crystals
			}
      
			modifier = {
				factor = 1000
			}
		}
	}

    # 합금 건물 : 수도 전용 모디파이어.
	building = {
		key =  building_foundry_3
		weight = {
			weight = 1

			modifier = {
				factor = 0
				NOR = {
					has_designation = col_capital
					has_designation = col_foundry
				}
			}

            modifier = {
                factor = 0
                owner = { has_monthly_income = { resource = alloys value > 60 } }
            }

			# 건물 슬롯이 없을 때만 업그레이드
			modifier = {
				factor = 0
                free_building_slots > 0
			}

			modifier = {
				factor = 0
                owner = { has_monthly_income = { resource = volatile_motes value < 1 } }
                # exotic_gases volatile_motes rare_crystals
			}
      
			modifier = {
				factor = 1000
			}
		}
	}

    # 연구소 : 수도 전용 모디파이어.
	building = {
		key = building_research_lab_1
		weight = {
			weight = 1

			modifier = {
				factor = 0
				NOR = {
					has_designation = col_capital
					has_designation = col_research
				}
			}
      
			modifier = {
				factor = 1000
			}
		}
	}

    # 연구소 : 수도 전용 모디파이어.
	building = {
		key =  building_research_lab_2
		weight = {
			weight = 1

			modifier = {
				factor = 0
				NOR = {
					has_designation = col_capital
					has_designation = col_research
				}
			}

			# 건물 슬롯이 없을 때만 업그레이드
			modifier = {
				factor = 0
                free_building_slots > 0
			}

			modifier = {
				factor = 0
                owner = { has_monthly_income = { resource = exotic_gases value < 1 } }
                # exotic_gases volatile_motes rare_crystals
			}
      
			modifier = {
				factor = 1000
			}
		}
	}

    # 연구소 : 수도 전용 모디파이어.
	building = {
		key =  building_research_lab_3
		weight = {
			weight = 1

			modifier = {
				factor = 0
				NOR = {
					has_designation = col_capital
					has_designation = col_research
				}
			}

			# 건물 슬롯이 없을 때만 업그레이드
			modifier = {
				factor = 0
                free_building_slots > 0
			}

			modifier = {
				factor = 0
                owner = { has_monthly_income = { resource = exotic_gases value < 1 } }
                # exotic_gases volatile_motes rare_crystals
			}
      
			modifier = {
				factor = 1000
			}
		}
	}

    # 행정 건물 : 수도 전용 모디파이어.
	building = {
		key = building_bureaucratic_1
		weight = {
			weight = 1

			modifier = {
				factor = 0
				NOR = {
					has_designation = col_capital
					has_designation = col_bureau
				}
			}

			# 행정특화 행성이 있으면 짓지 않음.
            modifier = {
                factor = 0
                any_owned_planet = { has_designation = col_bureau }
            }

            modifier = {
            	factor = 0
				NOT = { owner = { empire_sprawl_over_cap > 0 } }
            }

            modifier = {
            	factor = 1600
            }
		}
	}

    # 행정 건물 : 수도 전용 모디파이어.
	building = {
		key =  building_bureaucratic_2
		weight = {
			weight = 1

			modifier = {
				factor = 0
				NOR = {
					has_designation = col_capital
					has_designation = col_bureau
				}
			}
            
            # 행정 한계일 때만 업그레이드
			modifier = {
				factor = 0
				NOT = { owner = { empire_sprawl_over_cap > 0 } }
			}

			# 건물 슬롯이 없을 때만 업그레이드
			modifier = {
				factor = 0
                free_building_slots > 0
			}

			modifier = {
				factor = 0
                owner = { has_monthly_income = { resource = rare_crystals value < 1 } }
                # exotic_gases volatile_motes rare_crystals
			}
      
			modifier = {
				factor = 1600
			}
		}
	}

    # 클론 배양소
	building = {
		key = building_clone_vats
		weight = {
			weight = 1

			modifier = {
				factor = 0
				NOR = {
					has_designation = col_mining
					has_designation = col_generator
					has_designation = col_farming
					has_designation = col_foundry
					has_designation = col_research
					has_designation = col_bureau
				}
			}

            modifier = {
                factor = 1600
            }
		}
	}

    # 로봇 조립 시설
	building = {
		key = building_robot_assembly_plant
		weight = {
			weight = 1

			modifier = {
				factor = 0
				NOR = {
					has_designation = col_mining
					has_designation = col_generator
					has_designation = col_farming
					has_designation = col_foundry
				}
			}

            modifier = {
                factor = 1500
                # 클론 배양소가 없으면 짓되, 있다면 극장 건설까지 기다린다.
                OR = {
                    NOT = { has_ascension_perk = ap_engineered_evolution }
                    AND = {
	                	has_building = building_clone_vats
	                    has_building = building_holo_theatres
	                }
                }
            }
		}
	}

    # 홀로그램 극장
	building = {
		key = building_holo_theatres
		weight = {
			weight = 1

			modifier = {
				factor = 0
				NOR = {
					has_designation = col_mining
					has_designation = col_generator
					has_designation = col_farming
					has_designation = col_foundry
					has_designation = col_research
					has_designation = col_bureau
					has_designation = col_habitat_mining
					has_designation = col_habitat_energy
				}
			}

			# 하나만 짓는다.
			modifier = {
				factor = 0
				OR = {
	                num_buildings = { type = building_holo_theatres value > 0 }
	                num_buildings = { type = building_hyper_entertainment_forum value > 0 }
				}
			}

            modifier = {
                factor = 1500
                num_buildings = { type = any value >= 2 }
            }
		}
	}

    # 초 오락단지
	building = {
		key = building_hyper_entertainment_forum
		weight = {
			weight = 1

			modifier = {
				factor = 0
				NOR = {
					has_designation = col_mining
					has_designation = col_generator
					has_designation = col_farming
					has_designation = col_foundry
					has_designation = col_research
					has_designation = col_bureau
					has_designation = col_habitat_mining
					has_designation = col_habitat_energy
				}
			}

            modifier = {
                factor = 0
                free_amenities > 3
                NOR = { # 거주지는 안 지으면 직업 빨간불 뜨니까 예외.
					has_designation = col_habitat_mining
					has_designation = col_habitat_energy
                }
            }

            modifier = {
                factor = 0
                owner = { has_monthly_income = { resource = exotic_gases value < 1 } }
                # exotic_gases volatile_motes rare_crystals
            }

            modifier = {
                factor = 1600
            }
		}
	}

    # 발전 모디파이어
	building = {
		key = building_energy_grid
		weight = {
			weight = 1

			modifier = {
				factor = 0
				NOR = {
					has_designation = col_generator
					has_designation = col_habitat_energy
				}
			}

            modifier = {
                factor = 1400
            }
		}
	}

    # 발전 모디파이어 2
	building = {
		key = building_energy_nexus
		weight = {
			weight = 1

			modifier = {
				factor = 0
				NOR = {
					has_designation = col_generator
					has_designation = col_habitat_energy
				}
			}

            modifier = {
                factor = 0
                owner = { has_monthly_income = { resource = exotic_gases value < 1 } }
                # exotic_gases volatile_motes rare_crystals
            }

            modifier = {
                factor = 1400
            }
		}
	}

    # 채굴 모디파이어
	building = {
		key = building_mineral_purification_plant
		weight = {
			weight = 1

			modifier = {
				factor = 0
				NOR = {
					has_designation = col_mining
					has_designation = col_habitat_mining
				}
			}

            modifier = {
                factor = 1400
            }
		}
	}

    # 채굴 모디파이어 2
	building = {
		key = building_mineral_purification_hub
		weight = {
			weight = 1

			modifier = {
				factor = 0
				NOR = {
					has_designation = col_mining
					has_designation = col_habitat_mining
				}
			}
			
            modifier = {
                factor = 0
                owner = { has_monthly_income = { resource = volatile_motes value < 1 } }
                # exotic_gases volatile_motes rare_crystals
            }

            modifier = {
                factor = 1400
            }
		}
	}

    # 농업 모디파이어
	building = {
		key = building_food_processing_facility
		weight = {
			weight = 1

			modifier = {
				factor = 0
				NOR = {
					has_designation = col_farming
				}
			}

            modifier = {
                factor = 1400
            }
		}
	}

    # 농업 모디파이어 2
	building = {
		key = building_food_processing_center
		weight = {
			weight = 1

			modifier = {
				factor = 0
				NOR = {
					has_designation = col_farming
				}
			}
			
            modifier = {
                factor = 0
                owner = { has_monthly_income = { resource = volatile_motes value < 1 } }
                # exotic_gases volatile_motes rare_crystals
            }

            modifier = {
                factor = 1400
            }
		}
	}

	# 상업 지구
	building = {
		key = building_commercial_zone
		weight = {
			weight = 1

			modifier = {
				factor = 0
                NOR = {
					#has_designation = col_mining
					#has_designation = col_farming
					#has_designation = col_generator
					has_designation = col_habitat_refinery
                }
			}

			# 정제소 행성은 상업지구부터 짓기 시작해야 함.
			modifier = {
				factor = 1600
				free_jobs <= 2
				has_designation = col_habitat_refinery
			}

			# 일반 행성은 자원지구로 일자리를 먼저 채움.
			modifier = {
				factor = 1600
				free_jobs <= 2
				free_district_slots = 0

				OR = {
					has_designation = col_mining
					has_designation = col_farming
					has_designation = col_generator
				}
			}
		}
	}

	# 메가플렉스
	building = {
		key = building_commercial_megaplex
		weight = {
			weight = 1

			modifier = {
				factor = 0
                NOR = {
					has_designation = col_mining
					has_designation = col_farming
					has_designation = col_generator
					has_designation = col_habitat_refinery
                }
			}
			
            modifier = {
                factor = 0
                owner = { has_monthly_income = { resource = rare_crystals value < 1 } }
                # exotic_gases volatile_motes rare_crystals
            }

			modifier = {
				factor = 1600
			}
		}
	}

	# 전략자원
	building = {
		key = building_crystal_plant
		weight = {
			weight = 1

			modifier = {
				factor = 0
                NOR = {
                    has_designation = col_mining
                    has_designation = col_farming
                    has_designation = col_generator
					has_designation = col_habitat_energy
					has_designation = col_habitat_mining
					has_designation = col_habitat_fortress
                    has_designation = col_habitat_refinery
                }
			}

			modifier = {
				factor = 250
			}

			# 합성수정은 내정에 쓰일 일이 더 많으므로 같은 weight일 때 우선함.
			modifier = {
				factor = 1.01
                owner = { has_monthly_income = { resource = rare_crystals value < 20 } }
			}

			modifier = {
				factor = 1.1
                owner = { has_monthly_income = { resource = rare_crystals value < 1 } }
			}

			modifier = {
				factor = 1.1
                owner = { has_monthly_income = { resource = rare_crystals value < 2 } }
			}

			modifier = {
				factor = 1.1
                owner = { has_monthly_income = { resource = rare_crystals value < 3 } }
			}

			modifier = {
				factor = 1.1
                owner = { has_monthly_income = { resource = rare_crystals value < 4 } }
			}

			modifier = {
				factor = 1.1
                owner = { has_monthly_income = { resource = rare_crystals value < 5 } }
			}

			modifier = {
				factor = 1.1
                owner = { has_monthly_income = { resource = rare_crystals value < 6 } }
			}

			modifier = {
				factor = 1.1
                owner = { has_monthly_income = { resource = rare_crystals value < 7 } }
			}

			modifier = {
				factor = 1.1
                owner = { has_monthly_income = { resource = rare_crystals value < 8 } }
			}

			modifier = {
				factor = 1.1
                owner = { has_monthly_income = { resource = rare_crystals value < 9 } }
			}

			modifier = {
				factor = 1.1
                owner = { has_monthly_income = { resource = rare_crystals value < 10 } }
			}

			modifier = {
				factor = 1.1
                owner = { has_monthly_income = { resource = rare_crystals value < 12 } }
			}

			modifier = {
				factor = 1.1
                owner = { has_monthly_income = { resource = rare_crystals value < 14 } }
			}

			modifier = {
				factor = 1.1
                owner = { has_monthly_income = { resource = rare_crystals value < 16 } }
			}

			modifier = {
				factor = 1.1
                owner = { has_monthly_income = { resource = rare_crystals value < 18 } }
			}

			modifier = {
				factor = 1.1
                owner = { has_monthly_income = { resource = rare_crystals value < 20 } }
			}
		}
	}

	building = {
		key = building_chemical_plant
		weight = {
			weight = 1
			
			modifier = {
				factor = 0
                NOR = {
                    has_designation = col_mining
                    has_designation = col_farming
                    has_designation = col_generator
					has_designation = col_habitat_energy
					has_designation = col_habitat_mining
					has_designation = col_habitat_fortress
                    has_designation = col_habitat_refinery
                }
			}

			modifier = {
				factor = 250
			}

			modifier = {
				factor = 1.1
                owner = { has_monthly_income = { resource = volatile_motes value < 1 } }
			}

			modifier = {
				factor = 1.1
                owner = { has_monthly_income = { resource = volatile_motes value < 2 } }
			}

			modifier = {
				factor = 1.1
                owner = { has_monthly_income = { resource = volatile_motes value < 3 } }
			}

			modifier = {
				factor = 1.1
                owner = { has_monthly_income = { resource = volatile_motes value < 4 } }
			}

			modifier = {
				factor = 1.1
                owner = { has_monthly_income = { resource = volatile_motes value < 5 } }
			}

			modifier = {
				factor = 1.1
                owner = { has_monthly_income = { resource = volatile_motes value < 6 } }
			}

			modifier = {
				factor = 1.1
                owner = { has_monthly_income = { resource = volatile_motes value < 7 } }
			}

			modifier = {
				factor = 1.1
                owner = { has_monthly_income = { resource = volatile_motes value < 8 } }
			}

			modifier = {
				factor = 1.1
                owner = { has_monthly_income = { resource = volatile_motes value < 9 } }
			}

			modifier = {
				factor = 1.1
                owner = { has_monthly_income = { resource = volatile_motes value < 10 } }
			}

			modifier = {
				factor = 1.1
                owner = { has_monthly_income = { resource = volatile_motes value < 12 } }
			}

			modifier = {
				factor = 1.1
                owner = { has_monthly_income = { resource = volatile_motes value < 14 } }
			}

			modifier = {
				factor = 1.1
                owner = { has_monthly_income = { resource = volatile_motes value < 16 } }
			}

			modifier = {
				factor = 1.1
                owner = { has_monthly_income = { resource = volatile_motes value < 18 } }
			}

			modifier = {
				factor = 1.1
                owner = { has_monthly_income = { resource = volatile_motes value < 20 } }
			}
		}
	}

	building = {
		key = building_refinery
		weight = {
			weight = 1
			
			modifier = {
				factor = 0
                NOR = {
                    has_designation = col_mining
                    has_designation = col_farming
                    has_designation = col_generator
					has_designation = col_habitat_energy
					has_designation = col_habitat_mining
					has_designation = col_habitat_fortress
                    has_designation = col_habitat_refinery
                }
			}

			modifier = {
				factor = 250
			}
			
			modifier = {
				factor = 1.1
                owner = { has_monthly_income = { resource = exotic_gases value < 1 } }
			}

			modifier = {
				factor = 1.1
                owner = { has_monthly_income = { resource = exotic_gases value < 2 } }
			}

			modifier = {
				factor = 1.1
                owner = { has_monthly_income = { resource = exotic_gases value < 3 } }
			}

			modifier = {
				factor = 1.1
                owner = { has_monthly_income = { resource = exotic_gases value < 4 } }
			}

			modifier = {
				factor = 1.1
                owner = { has_monthly_income = { resource = exotic_gases value < 5 } }
			}

			modifier = {
				factor = 1.1
                owner = { has_monthly_income = { resource = exotic_gases value < 6 } }
			}

			modifier = {
				factor = 1.1
                owner = { has_monthly_income = { resource = exotic_gases value < 7 } }
			}

			modifier = {
				factor = 1.1
                owner = { has_monthly_income = { resource = exotic_gases value < 8 } }
			}

			modifier = {
				factor = 1.1
                owner = { has_monthly_income = { resource = exotic_gases value < 9 } }
			}

			modifier = {
				factor = 1.1
                owner = { has_monthly_income = { resource = exotic_gases value < 10 } }
			}

			modifier = {
				factor = 1.1
                owner = { has_monthly_income = { resource = exotic_gases value < 12 } }
			}

			modifier = {
				factor = 1.1
                owner = { has_monthly_income = { resource = exotic_gases value < 14 } }
			}

			modifier = {
				factor = 1.1
                owner = { has_monthly_income = { resource = exotic_gases value < 16 } }
			}

			modifier = {
				factor = 1.1
                owner = { has_monthly_income = { resource = exotic_gases value < 18 } }
			}

			modifier = {
				factor = 1.1
                owner = { has_monthly_income = { resource = exotic_gases value < 20 } }
			}
		}
	}

	# 합금 단조장 1
	building = {
		key = building_foundry_1
		weight = {
			weight = 1

			modifier = {
				factor = 0
				NOR = {
					has_designation = col_foundry
				}
			}
      
			modifier = {
				factor = 1000
				num_buildings = { type = any value >= 2}
			}
		}
	}

	# 합금 단조장 2
	building = {
		key =  building_foundry_2
		weight = {
			weight = 1

			modifier = {
				factor = 0
				NOR = {
					has_designation = col_foundry
				}
			}

			# 새로 건물을 지을 수 없으면 건설
            modifier = {
                factor = 0
                free_building_slots > 0
            }

			modifier = {
				factor = 0
                owner = { has_monthly_income = { resource = volatile_motes value < 1 } }
                # exotic_gases volatile_motes rare_crystals
			}
      
			modifier = {
				factor = 1000
			}
		}
	}

	# 합금 단조장 3
	building = {
		key =  building_foundry_3
		weight = {
			weight = 1

			modifier = {
				factor = 0
				NOR = {
					has_designation = col_foundry
				}
			}

			# 새로 건물을 지을 수 없으면 건설
            modifier = {
                factor = 0
                free_building_slots > 0
            }

			modifier = {
				factor = 0
                owner = { has_monthly_income = { resource = volatile_motes value < 1 } }
                # exotic_gases volatile_motes rare_crystals
			}
      
			modifier = {
				factor = 1000
			}
		}
	}

	# 합금, 소비재 모디파이어
	building = {
		key = building_ministry_production
		weight = {
			weight = 1

			modifier = {
				factor = 0
				NOR = {
					has_designation = col_foundry
				}
			}
      
			modifier = {
				factor = 1600
				num_buildings = { type = any value >= 6}
			}
		}
	}

	# 연구소 1
	building = {
		key = building_research_lab_1
		weight = {
			weight = 1

			modifier = {
				factor = 0
				NOR = {
					has_designation = col_research
				}
			}
      
			modifier = {
				factor = 1000
				num_buildings = { type = any value >= 2}
			}
		}
	}

	# 연구소 2
	building = {
		key =  building_research_lab_2
		weight = {
			weight = 1

			modifier = {
				factor = 0
				NOR = {
					has_designation = col_research
				}
			}

			# 새로 건물을 지을 수 없으면 건설
            modifier = {
                factor = 0
                free_building_slots > 0
            }

			modifier = {
				factor = 0
                owner = { has_monthly_income = { resource = exotic_gases value < 1 } }
                # exotic_gases volatile_motes rare_crystals
			}
      
			modifier = {
				factor = 1000
			}
		}
	}

	# 연구소 3
	building = {
		key =  building_research_lab_3
		weight = {
			weight = 1

			modifier = {
				factor = 0
				NOR = {
					has_designation = col_research
				}
			}

			# 새로 건물을 지을 수 없으면 건설
            modifier = {
                factor = 0
                free_building_slots > 0
            }

			modifier = {
				factor = 0
                owner = { has_monthly_income = { resource = exotic_gases value < 1 } }
                # exotic_gases volatile_motes rare_crystals
			}
      
			modifier = {
				factor = 1000
			}
		}
	}

	# 연구 모디파이어
	building = {
		key = building_institute
		weight = {
			weight = 1

			modifier = {
				factor = 0
				NOR = {
					has_designation = col_research
				}
			}
      
			modifier = {
				factor = 1600
				num_buildings = { type = any value >= 6}
			}
		}
	}

	# 행정 1
	building = {
		key =  building_bureaucratic_1
		weight = {
			weight = 1

			modifier = {
				factor = 0
				NOR = {
					has_designation = col_bureau
				}
			}
            
            # 행정 한계일 때만 건설
            # NOT으로 묶은 이유는 factor가 0으로 두어야 weight도 0이 되어 건설을 하지 않기 때문
			modifier = {
				factor = 0
				NOT = { owner = { empire_sprawl_over_cap > 0 } }
			}
      
			modifier = {
				factor = 1600
			}
		}
	}

	# 행정 2
	building = {
		key =  building_bureaucratic_2
		weight = {
			weight = 1

			modifier = {
				factor = 0
				NOR = {
					has_designation = col_bureau
				}
			}
            
            # 행정 한계일 때만 업그레이드
			modifier = {
				factor = 0
				NOT = { owner = { empire_sprawl_over_cap > 0 } }
			}

			# 건물 슬롯이 없을 때만 업그레이드
			modifier = {
				factor = 0
                free_building_slots > 0
			}

			modifier = {
				factor = 0
                owner = { has_monthly_income = { resource = rare_crystals value < 1 } }
                # exotic_gases volatile_motes rare_crystals
			}
      
			modifier = {
				factor = 1600
			}
		}
	}

	# 주둔지
	building = {
		key =  building_stronghold
		weight = {
			weight = 1

			modifier = {
				factor = 0
				NOR = {
					has_designation = col_habitat_fortress
				}
			}
      
			modifier = {
				factor = 1000
			}
		}
	}

	# 요새
	building = {
		key =  building_fortress
		weight = {
			weight = 1

			modifier = { # 지구 건설 제한
				factor = 0
				NOR = {
					has_designation = col_habitat_fortress
				}
			}

			modifier = {
				factor = 0
                owner = { has_monthly_income = { resource = volatile_motes value < 1 } }
                # exotic_gases volatile_motes rare_crystals
			}
      
			modifier = {
				factor = 1000
			}
		}
	}


}

#############
# MANUFACTURING FOCUS
#############

manufacturing = {
	ai_weight = {
		weight = 0
	}

	district = {
		key = district_generator
		weight = {
			weight = 1
			modifier = {
				factor = 3
				owner = { 
					has_monthly_income = {
						resource = energy
						value < 8
					}
				}
			}

			modifier = {
				factor = 2
				free_housing < 0
			}

			modifier = {
				factor = 3
				any_owned_pop = { 
					OR = { 
						is_unemployed = yes 
						has_job = servant 
					}
				}
			}

			# No one to work it anyway
			modifier = {
				factor = 0
				NOT = {
					any_owned_pop = { 
						OR = { 
							is_unemployed = yes 
							has_job = servant 
						}
					}
				}
			}
		}
	}

	district = {
		key = district_mining
		weight = {
			weight = 1
			modifier = {
				factor = 3
				owner = { 
					has_monthly_income = {
						resource = minerals
						value < 0
					}
				}
			}

			modifier = {
				factor = 2
				free_housing < 0
			}

			modifier = {
				factor = 3
				any_owned_pop = { 
					OR = { 
						is_unemployed = yes 
						has_job = servant 
					}
				}
			}

			# No one to work it anyway
			modifier = {
				factor = 0
				NOT = {
					any_owned_pop = { 
						OR = { 
							is_unemployed = yes 
							has_job = servant 
						}
					}
				}
			}
		}
	}

	district = {
		key = district_farming
		weight = {
			weight = 1
			modifier = {
				factor = 3
				owner = { 
					has_monthly_income = {
						resource = food
						value < 5
					}
				}
			}

			modifier = {
				factor = 2
				free_housing < 0
			}

			modifier = {
				factor = 3
				any_owned_pop = { 
					OR = { 
						is_unemployed = yes 
						has_job = servant 
					}
				}
			}

			modifier = { # MI and Synth. Asc. don't build food unless they need it
				factor = 0
				owner = { 
					OR = {
						has_authority = auth_machine_intelligence
						has_country_flag = synthetic_empire
					}
					has_monthly_income = {
						resource = food
						value >= 0
					}
				}
			}

			# No one to work it anyway
			modifier = {
				factor = 0
				NOT = {
					any_owned_pop = { 
						OR = { 
							is_unemployed = yes 
							has_job = servant 
						}
					}
				}
			}
		}
	}

	building = {
		key = building_foundry_1
		weight = {
			weight = 1

			modifier = {
				factor = 5
				owner = { 
					has_monthly_income = {
						resource = alloys
						value < 0
					}
				}
			}

			# No one to work it anyway
			modifier = {
				factor = 0
				NOT = {
					any_owned_pop = { 
						OR = { 
							is_unemployed = yes 
							has_job = servant 
						}
					}
				}
			}
		}
	}

	building = {
		key = building_foundry_2
		weight = {
			weight = 1

			modifier = {
				factor = 5
				owner = { 
					has_monthly_income = {
						resource = alloys
						value < 10
					}
				}
			}

			# No one to work it anyway
			modifier = {
				factor = 0
				NOT = {
					any_owned_pop = { 
						OR = { 
							is_unemployed = yes 
							has_job = servant 
						}
					}
				}
			}

			modifier = {
				factor = 0
				controller = {
					OR = {
						has_monthly_income = {
							resource = volatile_motes
							value < 1
						}
						has_monthly_income = {
							resource = energy
							value < 5
						}
					}
				}
			}
		}
	}

	building = {
		key = building_foundry_3
		weight = {
			weight = 1

			modifier = {
				factor = 5
				owner = { 
					has_monthly_income = {
						resource = alloys
						value < 20
					}
				}
			}

			# No one to work it anyway
			modifier = {
				factor = 0
				NOT = {
					any_owned_pop = { 
						OR = { 
							is_unemployed = yes 
							has_job = servant 
						}
					}
				}
			}

			modifier = {
				factor = 0
				controller = {
					OR = {
						has_monthly_income = {
							resource = volatile_motes
							value < 2
						}
						has_monthly_income = {
							resource = energy
							value < 6
						}
					}
				}
			}
		}
	}

	building = {
		key = building_factory_1
		weight = {
			weight = 1

			modifier = {
				factor = 5
				owner = { 
					has_monthly_income = {
						resource = consumer_goods
						value < 5
					}
					has_monthly_income = {
						resource = minerals
						value > 6
					}
				}
			}

			# No one to work it anyway
			modifier = {
				factor = 0
				NOT = {
					any_owned_pop = { 
						OR = { 
							is_unemployed = yes 
							has_job = servant 
						}
					}
				}
			}
		}
	}

	building = {
		key = building_factory_2
		weight = {
			weight = 1

			modifier = {
				factor = 5
				owner = { 
					has_monthly_income = {
						resource = consumer_goods
						value < 8
					}
					has_monthly_income = {
						resource = minerals
						value > 10
					}
				}
			}

			# No one to work it anyway
			modifier = {
				factor = 0
				NOT = {
					any_owned_pop = { 
						OR = { 
							is_unemployed = yes 
							has_job = servant 
						}
					}
				}
			}

			modifier = {
				factor = 0
				controller = {
					OR = {
						has_monthly_income = {
							resource = rare_crystals
							value < 1
						}
						has_monthly_income = {
							resource = energy
							value < 5
						}
					}
				}
			}
		}
	}

	building = {
		key = building_factory_3
		weight = {
			weight = 1

			modifier = {
				factor = 5
				owner = { 
					has_monthly_income = {
						resource = consumer_goods
						value < 10
					}
					has_monthly_income = {
						resource = minerals
						value > 20
					}
				}
			}

			# No one to work it anyway
			modifier = {
				factor = 0
				NOT = {
					any_owned_pop = { 
						OR = { 
							is_unemployed = yes 
							has_job = servant 
						}
					}
				}
			}

			modifier = {
				factor = 0
				controller = {
					OR = {
						has_monthly_income = {
							resource = rare_crystals
							value < 2
						}
						has_monthly_income = {
							resource = energy
							value < 6
						}
					}
				}
			}
		}
	}

	building = {
		key = building_refinery
		weight = {
			weight = 1

			# No one to work it anyway
			modifier = {
				factor = 0
				NOT = {
					any_owned_pop = { 
						OR = { 
							is_unemployed = yes 
							has_job = servant 
						}
					}
				}
			}
		}
	}

	building = {
		key = building_chemical_plant
		weight = {
			weight = 1

			# No one to work it anyway
			modifier = {
				factor = 0
				NOT = {
					any_owned_pop = { 
						OR = { 
							is_unemployed = yes 
							has_job = servant 
						}
					}
				}
			}
		}
	}

	building = {
		key = building_crystal_plant
		weight = {
			weight = 1

			# No one to work it anyway
			modifier = {
				factor = 0
				NOT = {
					any_owned_pop = { 
						OR = { 
							is_unemployed = yes 
							has_job = servant 
						}
					}
				}
			}
		}
	}

	building = {
		key = building_nanite_transmuter
		weight = {
			weight = 1

			# No one to work it anyway
			modifier = {
				factor = 0
				NOT = {
					any_owned_pop = { 
						OR = { 
							is_unemployed = yes 
							has_job = servant 
						}
					}
				}
			}

			modifier = {
				factor = 0
				controller = {
					OR = {
						has_monthly_income = {
							resource = nanites
							value < 1
						}
						has_monthly_income = {
							resource = energy
							value < 5
						}
					}
				}
			}
		}
	}

	building = {
		key = building_ministry_production
		weight = {
			weight = 2

			# No one to work it anyway
			modifier = {
				factor = 0
				NOT = {
					any_owned_pop = { 
						OR = { 
							is_unemployed = yes 
							has_job = servant 
						}
					}
				}
			}
		}
	}

	building = {
		key = building_production_center
		weight = {
			weight = 2

			# No one to work it anyway
			modifier = {
				factor = 0
				NOT = {
					any_owned_pop = { 
						OR = { 
							is_unemployed = yes 
							has_job = servant 
						}
					}
				}
			}
		}
	}
}

#############
# RESEARCH FOCUS
#############

research = {

	ai_weight = {
		weight = 0
	}

	district = {
		key = district_generator
		weight = {
			weight = 1
			modifier = {
				factor = 3
				owner = { 
					has_monthly_income = {
						resource = energy
						value < 8
					}
				}
			}

			modifier = {
				factor = 2
				free_housing < 0
			}

			modifier = {
				factor = 3
				any_owned_pop = { 
					OR = { 
						is_unemployed = yes 
						has_job = servant 
					}
				}
			}

			# No one to work it anyway
			modifier = {
				factor = 0
				NOT = {
					any_owned_pop = { 
						OR = { 
							is_unemployed = yes 
							has_job = servant 
						}
					}
				}
			}
		}
	}

	district = {
		key = district_mining
		weight = {
			weight = 1
			modifier = {
				factor = 3
				owner = { 
					has_monthly_income = {
						resource = minerals
						value < 0
					}
				}
			}

			modifier = {
				factor = 2
				free_housing < 0
			}

			modifier = {
				factor = 3
				any_owned_pop = { 
					OR = { 
						is_unemployed = yes 
						has_job = servant 
					}
				}
			}

			# No one to work it anyway
			modifier = {
				factor = 0
				NOT = {
					any_owned_pop = { 
						OR = { 
							is_unemployed = yes 
							has_job = servant 
						}
					}
				}
			}
		}
	}

	district = {
		key = district_farming
		weight = {
			weight = 1
			modifier = {
				factor = 3
				owner = { 
					has_monthly_income = {
						resource = food
						value < 5
					}
				}
			}

			modifier = {
				factor = 2
				free_housing < 0
			}

			modifier = {
				factor = 3
				any_owned_pop = { 
					OR = { 
						is_unemployed = yes 
						has_job = servant 
					}
				}
			}

			modifier = { # MI and Synth. Asc. don't build food unless they need it
				factor = 0
				owner = { 
					OR = {
						has_authority = auth_machine_intelligence
						has_country_flag = synthetic_empire
					}
					has_monthly_income = {
						resource = food
						value >= 0
					}
				}
			}

			# No one to work it anyway
			modifier = {
				factor = 0
				NOT = {
					any_owned_pop = { 
						OR = { 
							is_unemployed = yes 
							has_job = servant 
						}
					}
				}
			}
		}
	}

	building = {
		key = building_research_lab_1
		weight = {
			weight = 10

			# No one to work it anyway
			modifier = {
				factor = 0
				NOT = {
					any_owned_pop = { 
						OR = { 
							is_unemployed = yes 
							has_job = servant 
						}
					}
				}
			}
		}
	}

	building = {
		key = building_research_lab_2
		weight = {
			weight = 8

			# No one to work it anyway
			modifier = {
				factor = 0
				NOT = {
					any_owned_pop = { 
						OR = { 
							is_unemployed = yes 
							has_job = servant 
						}
					}
				}
			}

			modifier = {
				factor = 0
				controller = {
					OR = {
						has_monthly_income = {
							resource = exotic_gases
							value < 1
						}
						has_monthly_income = {
							resource = energy
							value < 5
						}
					}
				}
			}
		}
	}

	building = {
		key = building_research_lab_3
		weight = {
			weight = 10

			# No one to work it anyway
			modifier = {
				factor = 0
				NOT = {
					any_owned_pop = { 
						OR = { 
							is_unemployed = yes 
							has_job = servant 
						}
					}
				}
			}

			modifier = {
				factor = 0
				controller = {
					OR = {
						has_monthly_income = {
							resource = exotic_gases
							value < 2
						}
					
						has_monthly_income = {
							resource = energy
							value < 6
						}
					}
				}
			}
		}
	}

	building = {
		key = building_institute
		weight = {
			weight = 10

			# No one to work it anyway
			modifier = {
				factor = 0
				NOT = {
					any_owned_pop = { 
						OR = { 
							is_unemployed = yes 
							has_job = servant 
						}
					}
				}
			}
		}
	}

	building = {
		key = building_supercomputer
		weight = {
			weight = 10

			# No one to work it anyway
			modifier = {
				factor = 0
				NOT = {
					any_owned_pop = { 
						OR = { 
							is_unemployed = yes 
							has_job = servant 
						}
					}
				}
			}
		}
	}
}
